<!DOCTYPE html>
<html lang="en">
<head>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<link rel="stylesheet" href="styles/earth-cube.css">
<link rel="stylesheet" href="styles/header.css">
<link rel="stylesheet" href="styles/devlogandindex.css">
<link rel="stylesheet" href="styles/other.css">
<link rel="stylesheet" href="styles/navbar.css">
<script src="https://unpkg.com/blockly/blockly_compressed.js"></script>
<script src="https://unpkg.com/blockly/blocks_compressed.js"></script>
<script src="https://unpkg.com/blockly/javascript_compressed.js"></script>
<script src="https://unpkg.com/blockly/msg/en.js"></script>
  <meta charset="UTF-8">
  <title>Mod Editor | Bloxd World</title>
<meta name="description" content="Bloxd World is a community-driven modding site where you can upload, vote, and explore creative mods for Bloxd. Built by NeonJet Studios.">
<meta property="og:title" content="Mod Editor - A Powerful Tool for Bloxd Modding">
<meta property="og:description" content="Create and edit mods for Bloxd using our intuitive block-based editor. No coding experience required!">
<meta property="og:image" content="https://bloxdworld.pages.dev/THE PLACE FOR.png">
<meta property="og:url" content="https://bloxdworld.pages.dev/modeditor">
<meta name="twitter:card" content="summary_large_image">
  <link href="https://fonts.googleapis.com/css2?family=Fredoka&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
#blocklyDiv {
  width: 100vw;
  height: 800px;
  background-color: #f4f4f4;
  border: 2px solid #ccc;
  border-radius: 12px;
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
  padding: 0;
  margin: 2rem 0 0 0;
  overflow: hidden;
}
#blocklyDiv .dark-mode {
  background-color: #333;
  border-color: #555;
}
#blocklyDiv .dark-mode .blocklyToolboxDiv {
  background-color: #444;
  color: #fff;
}
#blocklyDiv .dark-mode .blocklyFlyout {
  background-color: #555;
  color: #fff;
}
#blocklyDiv .dark-mode .blocklyBlock {
  background-color: #666;
  color: #fff;
}
#blocklyDiv .dark-mode .blocklyText {
  fill: #fff;
}
#blocklyDiv .dark-mode .blocklyFieldLabel {
  fill: #fff;
}
#blocklyDiv .dark-mode .blocklyFieldDropdown {
  background-color: #777;
  color: #fff;
}
#blocklyDiv .dark-mode .blocklyFieldTextInput {
  background-color: #777;
  color: #fff;
}
#blocklyDiv .dark-mode .blocklyFieldCheckbox {
  fill: #fff;
}
#blocklyDiv .dark-mode .blocklyFieldNumber {
  background-color: #777;
  color: #fff;
}
#blocklyDiv .dark-mode .blocklyFieldColour {
  background-color: #777;
  color: #fff;
}
#blocklyDiv .dark-mode .blocklyFieldVariable {
  background-color: #777;
  color: #fff;
}
#blocklyDiv .dark-mode .blocklyFieldImage {
  filter: brightness(0.8);
}
#blocklyDiv .dark-mode .blocklyFlyoutButton {
  background-color: #888;
  color: #fff;
}
#blocklyDiv .dark-mode .blocklyScrollbar {
  background-color: #999;
  color: #fff;
}
#blocklyDiv .dark-mode .blocklyScrollbarHandle {
  background-color: #aaa;
  color: #fff;
}
#blocklyDiv .dark-mode .blocklyTooltip {
  background-color: #222;
  color: #fff;
  border: 1px solid #444;
  border-radius: 4px;
  padding: 4px 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}
#blocklyDiv .dark-mode .blocklyContextMenu {
  background-color: #333;
  color: #fff;
  border: 1px solid #555;
  border-radius: 4px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}
#blocklyDiv .dark-mode .blocklyContextMenuItem {
  padding: 4px 8px;
  cursor: pointer;
}
#blocklyDiv .dark-mode .blocklyContextMenuItem:hover {
  background-color: #444;
}
#blocklyDiv .dark-mode .blocklyContextMenuItemSelected {
  background-color: #555;
  color: #fff;
}
#blocklyDiv .dark-mode .blocklyFlyoutLabel {
  fill: #fff;
  font-weight: bold;
}
#blocklyDiv .dark-mode .blocklyFlyoutButton:hover {
  background-color: #999;
}
#blocklyDiv .dark-mode .blocklyFlyoutButton:active {
  background-color: #aaa;
}
#blocklyDiv .dark-mode .blocklyFlyoutButton:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.5);
}
#blocklyDiv .dark-mode .blocklyFlyoutButton:focus:hover {
  background-color: #999;
}
#blocklyDiv .dark-mode .blocklyFlyoutButton:focus:active {
  background-color: #aaa;
}
#blocklyDiv .dark-mode .blocklyFlyoutButton:focus:active:hover {
  background-color: #bbb;
}
#blocklyDiv .dark-mode .blocklyFlyoutButton:focus:active:focus {
  background-color: #ccc;
}
#blocklyDiv .dark-mode .blocklyFlyoutButton:focus:active:focus:hover {
  background-color: #ddd;
}
#blocklyDiv .dark-mode .blocklyFlyoutButton:focus:active:focus:active {
  background-color: #eee;
}
#blocklyDiv .dark-mode .blocklyFlyoutButton:focus:active:focus:active:hover {
  background-color: #fff;
}
#blocklyDiv .dark-mode .blocklyFlyoutButton:focus:active:focus:active:focus {
  background-color: #f0f0f0;
}
#blocklyDiv .dark-mode .blocklyFlyoutButton:focus:active:focus:active:focus:hover {
  background-color: #f5f5f5;
}
</style>
</head>
<body>

  <!-- ðŸ§  Header -->
  <div class="header">
    <div class="header-left">
      <div style="display: flex; align-items: center; height: 100%;">
        <div class="cube-container">
          <div class="cube">
            <div class="face front"></div>
            <div class="face back"></div>
            <div class="face right"></div>
            <div class="face left"></div>
            <div class="face top"></div>
            <div class="face bottom"></div>
          </div>
        </div>
      </div>
      <div class="logo-text"> Bloxd <br>World</div>
    </div>

   <div class="header-right">
  <ul class="navbar">
    <li class="nav-item">
      <a id="i6" href="index.html">
        <i class="fas fa-home"></i>
        <span id="mi6" class="nav-label">Home</span>
      </a>
    </li>
    <li class="nav-item">
      <a id="i5" href="mods.html">
        <i class="fas fa-cubes"></i>
        <span id="mi5" class="nav-label">Mods</span>
      </a>
    </li>
    <li class="nav-item">
      <a id="i4" href="upload.html">
        <i class="fas fa-upload"></i>
        <span id="mi4" class="nav-label">Upload</span>
      </a>
    </li>
    <li class="nav-item">
      <a id="i3" href="about.html">
        <i class="fas fa-info-circle"></i>
        <span id="mi3" class="nav-label">About</span>
      </a>
    </li>
    <li class="nav-item">
      <a  id="i2" href="leaderboard.html">
        <i class="fas fa-trophy"></i>
        <span id="mi2"class="nav-label">Leaderboard</span>
      </a>
    </li>
    <li class="nav-item">
      <a href="#" id="themeToggle">
        <i class="fas fa-moon"></i>
        <span id="mi1" class="nav-label">Theme</span>
      </a>
    </li>
    <li class="nav-item" id="authArea"></li>
  </ul>
    </div>
  </div>
<div id="blocklyDiv" style="height: 800px;"></div>
<button id="exportBtn" style="margin-top: 1rem;">Export Bloxd Code</button>
<pre id="exportOutput" style="background: #eee; padding: 1rem; margin-top: 1rem;"></pre>

  <!-- ðŸ’¡ Mouse Tracking Script -->
  <script>
const themeToggle = document.getElementById("themeToggle");

// Apply saved theme on load
if (localStorage.getItem("theme") === "dark") {
  document.body.classList.add("dark-mode");
}

// Toggle and save preference
themeToggle.addEventListener("click", (e) => {
  e.preventDefault();
  document.body.classList.toggle("dark-mode");

  // Save preference
  if (document.body.classList.contains("dark-mode")) {
    localStorage.setItem("theme", "dark");
  } else {
    localStorage.setItem("theme", "light");
  }
});

    const targets = document.querySelectorAll('.welcome-text, .welcome-para');

    targets.forEach(el => {
      el.addEventListener('mousemove', e => {
        const rect = el.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        el.style.setProperty('--mouse-x', `${x}px`);
        el.style.setProperty('--mouse-y', `${y}px`);
      });

      el.addEventListener('mouseleave', () => {
        el.style.setProperty('--mouse-x', `50%`);
        el.style.setProperty('--mouse-y', `50%`);
      });
    });
if (/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
  document.body.classList.add("mobile");
}
window.addEventListener("DOMContentLoaded", () => {
  // ðŸ§© Toolbox with custom categories
  const toolbox = {
    kind: "categoryToolbox",
    contents: [
      {
        kind: "category",
        name: "Logic",
        colour: "#5C81A6",
        contents: [
          { kind: "block", type: "controls_if" },
          { kind: "block", type: "logic_compare" }
        ]
      },
      {
        kind: "category",
        name: "CodeAPI",
        colour: "#AA5CA6",
        contents: [
          { kind: "block", type: "log_message" },
          { kind: "block", type: "get_entity_name" },
          { kind: "block", type: "get_entity_position" },
          { kind: "block", type: "set_entity_velocity" },
          { kind: "block", type: "set_entity_position" },
          { kind: "block", type: "get_player_ids" },
          { kind: "block", type: "player_is_in_game" },
          { kind: "block", type: "player_logged_in" },
          { kind: "block", type: "get_player_party_when_joined" },
          { kind: "block", type: "get_num_players" },
          { kind: "block", type: "getBlockCoordinatesPlayerStandingOn" },
          { kind: "block", type: "getBlockTypesPlayerStandingOn" }
        ]
      }
    ]
  };

  // ðŸ§± Define custom blocks
  Blockly.defineBlocksWithJsonArray([
    {
      type: "log_message",
      message0: "log %1",
      args0: [{ type: "field_input", name: "TEXT", text: "Hello Bloxd" }],
      previousStatement: null,
      nextStatement: null,
      colour: 210
    },
    {
      type: "get_entity_name",
      message0: "Get name of entity %1",
      args0: [{ type: "field_input", name: "ENTITY_ID", text: "Entity ID" }],
      output: null,
      colour: 210
    },
    {
      type: "get_entity_position",
      message0: "Get position of entity %1",
      args0: [{ type: "field_input", name: "ENTITY_ID", text: "Entity ID" }],
      output: null,
      colour: 210
    },
    {
      type: "set_entity_velocity",
      message0: "Set velocity of entity %1",
      args0: [{ type: "field_input", name: "ENTITY_ID", text: "Entity ID" }],
      previousStatement: null,
      nextStatement: null,
      colour: 210
    },
    {
      type: "set_entity_position",
      message0: "Set position of entity %1 to X:%2 Y:%3 Z:%4",
      args0: [
        { type: "field_input", name: "ENTITY_ID", text: "Entity ID" },
        { type: "field_input", name: "X_POSITION", text: "X" },
        { type: "field_input", name: "Y_POSITION", text: "Y" },
        { type: "field_input", name: "Z_POSITION", text: "Z" }
      ],
      previousStatement: null,
      nextStatement: null,
      colour: 210
    },
    {
      type: "get_player_ids",
      message0: "Get player IDs",
      output: null,
      colour: 210
    },
    {
      type: "player_is_in_game",
      message0: "Is player %1 in game?",
      args0: [{ type: "field_input", name: "ENTITY_ID", text: "Entity ID" }],
      output: null,
      colour: 210
    },
    {
      type: "player_logged_in",
      message0: "Is player %1 logged in?",
      args0: [{ type: "field_input", name: "ENTITY_ID", text: "Entity ID" }],
      output: null,
      colour: 210
    },
    {
      type: "get_player_party_when_joined",
      message0: "Get party of player %1 when joined",
      args0: [{ type: "field_input", name: "ENTITY_ID", text: "Entity ID" }],
      output: null,
      colour: 210
    },
    {
      type: "get_num_players",
      message0: "Get number of players",
      output: null,
      colour: 210
    },
    {
      type: "getBlockCoordinatesPlayerStandingOn",
      message0: "Get block coordinates player %1 is standing on",
      args0: [{ type: "field_input", name: "ENTITY_ID", text: "Entity ID" }],
      output: null,
      colour: 210
    },
    {
      type: "getBlockTypesPlayerStandingOn",
      message0: "Get block types player %1 is standing on",
      args0: [{ type: "field_input", name: "ENTITY_ID", text: "Entity ID" }],
      output: null,
      colour: 210
    }
  ]);

  // ðŸ§  Blockly injection
  const workspace = Blockly.inject("blocklyDiv", {
    toolbox: toolbox,
    scrollbars: true,
    trashcan: true
  });

  // ðŸ”§ CodeAPI generator mappings
  Blockly.BloxdCode = {
    log_message: block => `api.log("${block.getFieldValue("TEXT")}");\n`,
    get_entity_name: block => `api.getEntityName(${block.getFieldValue("ENTITY_ID")});\n`,
    get_entity_position: block => `api.getPosition(${block.getFieldValue("ENTITY_ID")});\n`,
    set_entity_velocity: block => `api.setVelocity(${block.getFieldValue("ENTITY_ID")});\n`,
    set_entity_position: block => {
      const id = block.getFieldValue("ENTITY_ID");
      const x = block.getFieldValue("X_POSITION");
      const y = block.getFieldValue("Y_POSITION");
      const z = block.getFieldValue("Z_POSITION");
      return `api.setPosition(${id}, ${x}, ${y}, ${z});\n`;
    },
    get_player_ids: () => `api.getPlayerIds();\n`,
    player_is_in_game: block => `api.playerIsInGame(${block.getFieldValue("ENTITY_ID")});\n`,
    player_logged_in: block => `api.playerIsLoggedIn(${block.getFieldValue("ENTITY_ID")});\n`,
    get_player_party_when_joined: block => `api.getPlayerPartyWhenJoined(${block.getFieldValue("ENTITY_ID")});\n`,
    get_num_players: () => `api.getNumPlayers();\n`,
    getBlockCoordinatesPlayerStandingOn: block => `api.getBlockCoordinatesPlayerStandingOn(${block.getFieldValue("ENTITY_ID")});\n`,
    getBlockTypesPlayerStandingOn: block => `api.getBlockTypesPlayerStandingOn(${block.getFieldValue("ENTITY_ID")});\n`
  };

  // ðŸ“¦ Generator runner
  Blockly.BloxdCode.workspaceToCode = function(ws) {
    const blocks = ws.getTopBlocks(true);
    let code = "";
    for (const block of blocks) {
      const type = block.type;
      if (this[type]) {
        code += this[type](block);
      }
    }
    return code;
  };

  // ðŸ§¾ Export button handler
  document.getElementById("exportBtn").addEventListener("click", () => {
    const output = Blockly.BloxdCode.workspaceToCode(workspace);
    document.getElementById("exportOutput").textContent = output || "// No code generated.";
  });
});

  </script>
<footer class="site-footer">
  <p>Â© NeonJet Studios. <strong>Bloxd World</strong> is made by NeonJet Studios and is not affiliated with Bloxd.io.</p>
  <nav class="footer-links">
    <a href="/about">About</a>
    <a href="/leaderboard">Leaderboard</a>
    <a href="/about">About</a>
    <a href="/upload">Submit a Mod</a>
    <a href="https://discord.gg/yourserver" target="_blank">Join Discord (SOON)</a>
  </nav>
</footer>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="js/googlelogin.js"></script>
</body>
</html>